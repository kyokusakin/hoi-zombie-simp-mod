
add_namespace = doomsday

#########Doomsday-Division#########################

country_event = {
	id = doomsday.1
	title = "doomsday.1.name"
	desc = "doomsday.1.desc"
	picture = GFX_news_event_eng_churchill_sign_treaty
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		has_game_rule = {
			rule = ZCOM_SPAWN
			option = NORMAL
		}
		ZOM = { exists = yes }
	}

	option = {
		name = doomsday.1.a
		183 = { add_core_of = ZCO }
		ENG ={ release = ZCO }
		country_event = { days = 1 id = Zombienews.20 }
		
		hidden_effect = {
			ENG = { leave_faction = yes }
			ZCO = { add_to_Faction = ENG }
			ZCO ={
				country_event = { days = 1 id = doomsday.6 }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Cavalry Brigade" }
				delete_unit_template_and_units = { division_template = "Tank Brigade" }
				delete_unit_template_and_units = { division_template = "Colonial Garrison" }
				delete_unit_template_and_units = { division_template = "Survivor" }
			}
		}
	}
}


news_event = {
	id = doomsday.2
	title = "doomsday.2.name"
	desc = "doomsday.2.desc"
	picture = GFX_news_event_saf_soldiers_2
	is_triggered_only = yes
	
	trigger = {
	}

	option = {
		name = doomsday.2.a
		add_manpower = -30000
		send_equipment = {
			target = ZCO
			type = infantry_equipment
			amount = 1000
		}
		send_equipment = {
			target = ZCO
			type = artillery_equipment
			amount = 100
		}
		send_equipment = {
			target = ZCO
			type = support_equipment
			amount = 100
		}
		hidden_effect = {
			ZCO ={
				load_oob = "ZCOM_more"
				add_manpower = 30000
				country_event = { days = 1 id = doomsday.31 }
			}
		}
	}
	option = {
		name = doomsday.2.a
	}
}
country_event = {
	id = doomsday.3
	title = "doomsday.3.name"
	desc = "doomsday.3.desc"
	picture = GFX_news_event_saf_soldiers_2
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {
			183 = {
				add_building_construction = {
					type = bunker
					province = 7193
					level = 10
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = 11984
					level = 10
					instant_build = yes
				}
			}

	}

}
country_event = {
	id = doomsday.4
	title = "doomsday.4.name"
	desc = "doomsday.4.desc"
	picture = GFX_news_event_saf_soldiers_2
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {
			183 = {
				add_building_construction = {
					type = naval_base
					province = 7193
					level = 10
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 11984
					level = 10
					instant_build = yes
				}
			}

	}

}
country_event = {
	id = doomsday.5
	title = "doomsday.5.name"
	desc = "doomsday.5.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	
	trigger = {
	}

	option = {
		name = doomsday.5.a
		hidden_effect ={
			282 = {
				add_building_construction = {
					type = bunker
					province = 1182
					level = 6
					instant_build = yes
				}
			}
			
			613 = {
				add_building_construction = {
					type = bunker
					province = 11913
					level = 6
					instant_build = yes
				}
			}
		}
	}

}

country_event = {
	id = doomsday.6
	title = "doomsday.6.name"
	desc = "doomsday.6.desc"
	picture = GFX_news_event_chinese_soldiers_march
	fire_only_once = yes
	hidden = yes
	mean_time_to_happen = { days = 1 }
	trigger = {
		ZCO = { exists = yes }
	}

	option = {
		name = doomsday.6.a
		hidden_effect ={
			ZCO ={
				load_oob = "ZCOM"
			}
		}
	}

}

country_event = {
	id = doomsday.7
	title = "doomsday.7.name"
	desc = "doomsday.7.desc"
	picture = GFX_report_event_generic_research_lab
	is_triggered_only = yes
	
	trigger = {
	}

	option = {
		trigger = {
			NOT = { has_global_flag = doomsday_leviathan }
		}
		name = doomsday.7.a
		ZCO = {
			add_research_slot = 1
		}
		FROM = {
			add_research_slot = -1
		}
	}
	option = {
		trigger = {
			has_global_flag = doomsday_leviathan
		}
		name = doomsday.7.a
		UNZ = {
			add_research_slot = 1
		}
		FROM = {
			add_research_slot = -1
		}
	}
	option = {
		name = doomsday.7.b

	}

}

country_event = {
	id = doomsday.8
	title = "doomsday.8.name"
	desc = "doomsday.8.desc"
	picture = GFX_report_event_chinese_soldiers
	is_triggered_only = yes
	
	trigger = {
	}

	option = {
		trigger = {
			NOT = { has_global_flag = doomsday_leviathan }
		}
		name = doomsday.8.a
		ZCO = {
			add_manpower = 10000
		}
		add_manpower = -10000
	}
	option = {
		trigger = {
			has_global_flag = doomsday_leviathan
		}
		name = doomsday.8.a
		UNZ = {
			add_manpower = 10000
		}
		add_manpower = -10000
	}
	option = {
		name = doomsday.8.b

	}

}

country_event = {
	id = doomsday.9
	title = "doomsday.9.name"
	desc = "doomsday.9.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {
		every_country ={
			if = {
				limit = {
					OR = {
						has_idea = doomsdaymember
						has_idea = doomsdaymember_united
					}
				}
					
				add_ideas = {
					ZCOMhelp
				}
			}
		}
		country_event = { days = 1 id = Zombienews.18 }
	}

}

country_event = {
	id = doomsday.12
	title = "doomsday.12.name"
	desc = "doomsday.12.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {
		trigger = {
			NOT = { has_global_flag = doomsday_leviathan }
		}
		GER = {
			random_army_leader = { 
				limit = { has_id = 4 }
				set_nationality = ZCO
			}
		}
	}
	option = {
		trigger = {
			has_global_flag = doomsday_leviathan
		}
		GER = {
			random_army_leader = { 
				limit = { has_id = 4 }
				set_nationality = UNZ
			}
		}
	}

}

country_event = {
	id = doomsday.13
	title = "doomsday.13.name"
	desc = "doomsday.13.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {
		trigger = {
			NOT = { has_global_flag = doomsday_leviathan }
		}
		every_country = {
			random_army_leader = { 
				limit = { skill > 4}
				set_nationality = ZCO
			}
		}
	}
	option = {
		trigger = {
			has_global_flag = doomsday_leviathan
		}
		every_country = {
			random_army_leader = { 
				limit = { skill > 4}
				set_nationality = UNZ
			}
		}
	}

}

country_event = {
	id = doomsday.14
	title = "doomsday.14.name"
	desc = "doomsday.14.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}
	
	option = {
		trigger = {
			NOT = { has_global_flag = doomsday_leviathan }
		}
		every_country = {
			if = {
				limit = {
					has_idea = doomsdaymember
				}
				add_opinion_modifier = {
						target = ZCO
						modifier = criminal_way
				}
			}
		}
	}
	option = {
		trigger = {
			has_global_flag = doomsday_leviathan
		}
		every_country = {
			if = {
				limit = {
					has_idea = doomsdaymember
				}
				add_opinion_modifier = {
						target = ZCO
						modifier = criminal_way
				}
			}
		}
	}

}

country_event = {
	id = doomsday.16
	title = "doomsday.16.name"
	desc = "doomsday.16.desc"
	picture = GFX_report_event_germany_politician_handshake
	
	trigger = {
		has_shine_effect_on_focus = international_weapons
	}
	
	mean_time_to_happen = { days = 60 }
	
	immediate = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 20000
			producer = ZCO
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 1200
			producer = ZCO
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 3000
			producer = ZCO
		}
	}
	option = {
		name = doomsday.16.a
	}	
}

country_event = {
	id = doomsday.17
	title = "doomsday.17.name"
	desc = "doomsday.17.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {
 		division_template = {
			name = "雇佣兵"

			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 0 y = 3 }
				infantry = { x = 0 y = 4 }
			}
	
			support = {
				mot_recon = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }			
			}
		}
		division_template = {
			name = "雇佣兵2"

			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 0 y = 3 }
				infantry = { x = 0 y = 4 }
				infantry = { x = 0 y = 5 }
				infantry = { x = 0 y = 6 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 1 y = 3 }
				infantry = { x = 1 y = 4 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
				infantry = { x = 2 y = 3 }
				infantry = { x = 2 y = 4 }
				infantry = { x = 2 y = 5 }
				infantry = { x = 2 y = 6 }
				infantry = { x = 3 y = 0 }
				infantry = { x = 3 y = 1 }
				infantry = { x = 3 y = 2 }
				infantry = { x = 3 y = 3 }
				infantry = { x = 3 y = 4 }
				infantry = { x = 4 y = 0 }
				infantry = { x = 4 y = 1 }
				infantry = { x = 4 y = 2 }
				infantry = { x = 4 y = 3 }
				infantry = { x = 4 y = 4 }
			}
		}
		
		division_template = {
			name = "摩托化雇佣兵"

			regiments = {
				motorized = { x = 0 y = 0 }
				motorized = { x = 0 y = 1 }
				motorized = { x = 0 y = 2 }
				motorized = { x = 1 y = 0 }
				motorized = { x = 1 y = 1 }
				motorized = { x = 1 y = 2 }
				motorized = { x = 2 y = 0 }
				motorized = { x = 2 y = 1 }
				motorized = { x = 2 y = 2 }
			}
			support = {
				mot_recon = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }			
			}
		}
		
		division_template = {
			name = "山地雇佣兵"

			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }
				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }
				mountaineers = { x = 2 y = 0 }
				mountaineers = { x = 2 y = 1 }
				mountaineers = { x = 2 y = 2 }
			}
			support = {
				engineer = { x = 0 y = 0 }
			}
		}
		
		division_template = {
			name = "轻坦雇佣兵"

			regiments = {
				light_armor = { x = 0 y = 0 }
				light_armor = { x = 0 y = 1 }
				light_armor = { x = 0 y = 2 }
				light_armor = { x = 0 y = 3 }
				light_armor = { x = 0 y = 4 }
				light_armor = { x = 1 y = 0 }
				light_armor = { x = 1 y = 1 }
				light_armor = { x = 1 y = 2 }
				light_armor = { x = 1 y = 3 }
				light_armor = { x = 1 y = 4 }
			}
		}
		
		division_template = {
			name = "重坦雇佣兵"

			regiments = {
				heavy_armor = { x = 0 y = 0 }
				heavy_armor = { x = 0 y = 1 }
				heavy_armor = { x = 0 y = 2 }
				heavy_armor = { x = 0 y = 3 }
			}
		}
	}
}

country_event = {
	id = doomsday.18
	title = "doomsday.18.name"
	desc = "doomsday.18.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	option = {		
		load_oob = "MERC_Infantry"
	}
	
	option = {
		load_oob = "MERC_Infantry2"
	}
	
	option = {
		load_oob = "MERC_Tanks"
	}
	
	option = {
		load_oob = "MERC_Tanks2"
	}
	
	option = {
		load_oob = "MERC_Motorized"
	}
	
	option = {
		load_oob = "MERC_Mountain"
	}

}

country_event = {
	id = doomsday.19
	title = "doomsday.19.name"
	desc = "doomsday.19.desc"
	picture = GFX_country_event_stalin_meeting
	fire_only_once = yes
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}
	immediate = {
		add_ideas = {
				the_other_way
		}
		unlock_national_focus = the_other_way2
		create_faction = "Criminal Syndicate"
		add_to_faction = ZCO
		country_event = { days = 1 id = Zombienews.19 }
	}
		
}

country_event = {
	id = doomsday.20
	title = "doomsday.20.name"
	desc = "doomsday.20.desc"
	picture = GFX_country_event_stalin_meeting
	fire_only_once = yes
	major = yes
	hidden = yes
	
	trigger = {
		ZCO = { has_idea = Minewar }
		ZCO = { has_war = yes }
	}
	immediate = {
		every_country = {
			add_opinion_modifier = {
				target = ZCO
				modifier = broke_international_norm
			}
		}
	}
		
}

country_event = {
	id = doomsday.21
	title = "doomsday.21.name"
	desc = "doomsday.21.desc"
	picture = GFX_country_event_stalin_meeting
	fire_only_once = yes
	hidden = yes
	
	trigger = {
	}
	
	option = {
		trigger = {
			NOT = { has_global_flag = doomsday_leviathan }
		}
		every_country = {
			if = {
				limit = {
					OR = {
						has_idea = doomsdayheadquarters
						has_idea = doomsdaymember 
						tag = ZCO
					}
				}
				add_research_slot = 1
			}
		}
	}
	option = {
		trigger = {
			has_global_flag = doomsday_leviathan
		}
		every_country = {
			if = {
				limit = {
					OR = {
						has_idea = doomsdayheadquarters_united
						has_idea = doomsdaymember_united 
						tag = UNZ
					}
				}
				add_research_slot = 1
			}
		}
	}	
}

country_event = {
	id = doomsday.22
	title = "doomsday.22.name"
	desc = "doomsday.22.desc"
	picture = GFX_report_event_soldiers_marching
	
	trigger = {
		focus_progress = {
			focus = new_soldiers
			progress > 0
		}
	}
	
	mean_time_to_happen = { days = 60 }
	
	immediate = {
		load_oob = "ZCOM_more"
	}
	option = {
		name = doomsday.22.a
	}	
}


country_event = {
	id = doomsday.24
	title = "doomsday.24.name"
	desc = "doomsday.24.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	immediate = {
		if = {
			limit = {
				has_idea = criminal_way5 
			}
			swap_ideas = {
				remove_idea = criminal_way5
				add_idea = criminal_way6
			}
		}
		if = {
			limit = {
				has_idea = criminal_way4 
			}
			swap_ideas = {
				remove_idea = criminal_way4
				add_idea = criminal_way5
			}
		}
		if = {
			limit = {
				has_idea = criminal_way3 
			}
			swap_ideas = {
				remove_idea = criminal_way3
				add_idea = criminal_way4
			}
		}
		if = {
			limit = {
				has_idea = criminal_way2 
			}
			swap_ideas = {
				remove_idea = criminal_way2
				add_idea = criminal_way3
			}
		}	
		if = {
			limit = {
				has_idea = criminal_way 
			}
			swap_ideas = {
				remove_idea = criminal_way
				add_idea = criminal_way2
			}
		}		
		if = {
			limit = {
				has_idea = international_finance 
			}
			swap_ideas = {
				remove_idea = international_finance
				add_idea = criminal_way
			}
		} 
		if = {
			limit = {
				has_idea = international_finance2 
			}
			swap_ideas = {
				remove_idea = international_finance2
				add_idea = international_finance
			}
		} 
		if = {
			limit = {
				has_idea = international_finance3 
			}
			swap_ideas = {
				remove_idea = international_finance3
				add_idea = international_finance2
			}
		} 
	}
	option = {
	}

}


country_event = {
	id = doomsday.25
	title = "doomsday.25.name"
	desc = "doomsday.25.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}

	immediate = {
		if = {
			limit = {
				has_idea = international_finance2
			}
			swap_ideas = {
				remove_idea = international_finance2
				add_idea = international_finance3
			}
		}
		if = {
			limit = {
				has_idea = international_finance
			}
			swap_ideas = {
				remove_idea = international_finance
				add_idea = international_finance2
			}
		}
		if = {
			limit = {
				has_idea = criminal_way 
			}
			swap_ideas = {
				remove_idea = criminal_way
				add_idea = international_finance
			}
		}
		if = {
			limit = {
				has_idea = criminal_way2 
			}
			swap_ideas = {
				remove_idea = criminal_way2
				add_idea = criminal_way
			}
		}
		if = {
			limit = {
				has_idea = criminal_way3 
			}
			swap_ideas = {
				remove_idea = criminal_way3
				add_idea = criminal_way2
			}
		}
		if = {
			limit = {
				has_idea = criminal_way4 
			}
			swap_ideas = {
				remove_idea = criminal_way4
				add_idea = criminal_way3
			}
		}	
		if = {
			limit = {
				has_idea = criminal_way5 
			}
			swap_ideas = {
				remove_idea = criminal_way5
				add_idea = criminal_way4
			}
		}		
		if = {
			limit = {
				has_idea = criminal_way6 
			}
			swap_ideas = {
				remove_idea = criminal_way6
				add_idea = criminal_way5
			}
		} 
	}
	option = {
	}

}

country_event = {
	id = doomsday.26
	title = "doomsday.26.name"
	desc = "doomsday.26.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}
	
	immediate = {
		every_country = {
			if = {
				limit = {
					has_idea = doomsdaymember
				}
				add_opinion_modifier = {
						target = ZCO
						modifier = sold_zombies
				}
			}
		}
	}

}

country_event = {
	id = doomsday.27
	title = "doomsday.27.name"
	desc = "doomsday.27.desc"
	picture = news_event_chinese_soldiers_march
	hidden = yes
	
	trigger = {
		any_state = {
			has_state_flag= ZCOM_firebomb
		}
	}
	
	immediate = {
		every_state = {
			if = {
				limit = {
					has_state_flag= ZCOM_firebomb
				}
				add_province_modifier = {
					static_modifiers = { firebombs }
					province = {
						all_provinces = yes
					}
				}
			}
		}
	}

}

country_event = {
	id = doomsday.28
	title = "doomsday.28.name"
	desc = "doomsday.28.desc"
	picture = GFX_news_event_chinese_soldiers_march
	hidden = yes
	
	trigger = {
		any_state = {
			has_state_flag= ZCOM_antipersonnel
		}
	}
	
	immediate = {
		every_state = {
			if = {
				limit = {
					has_state_flag= ZCOM_antipersonnel
				}
				add_province_modifier = {
					static_modifiers = { antipersonnel }
					province = {
						all_provinces = yes
					}
				}
			}
		}
	}

}

country_event = {
	id = doomsday.29
	title = "doomsday.29.name"
	desc = "doomsday.29.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}
	
	immediate = {
		every_state = {
			if = {
				limit = {
					is_fully_controlled_by = ZOM
				}
				add_core_of = ZCO
			}
		}
		country_event = { days = 1 id = Zombienews.17 }
	}

}

country_event = {
	id = doomsday.30
	title = "doomsday.30.name"
	desc = "doomsday.30.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
	}
	
	immediate = {
		if = {
			limit = {
				tag = USA
			}
			629 = {
				add_core_of = ZCO
			}
			USA = {
				release = ZCO 
				puppet = ZCO
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			696 = {
				add_core_of = ZCO
			}
			ENG = {
				release = ZCO 
				puppet = ZCO
			}
		}
		if = {
			limit = {
				tag = JAP
			}
			524 = {
				add_core_of = ZCO
			}
			JAP = {
				release = ZCO 
				puppet = ZCO
			}
		}
		if = {
			limit = {
				NOT = { tag = ENG }
				NOT = { tag = USA }
				NOT = { tag = JAP }
			}
			696 = {
				add_core_of = ZCO
			}
			ENG = {
				release = ZCO 
			}
			FROM = {
				puppet = ZCO
			}
		}
		ZCO = { remove_ideas = international_finance }
		ZCO = { remove_ideas = international_finance2 }
		ZCO = { remove_ideas = international_finance3 }
		ZCO = { remove_ideas = criminal_way }
		ZCO = { remove_ideas = criminal_way2 }
		ZCO = { remove_ideas = criminal_way3 }
		ZCO = { remove_ideas = criminal_way4 }
		ZCO = { remove_ideas = criminal_way5 }
		ZCO = { remove_ideas = criminal_way6 }
		set_global_flag = zcom2
		country_event = { days = 1 id = Zombienews.55 }
	}
}

news_event = {
	id = doomsday.31
	title = "doomsday.31.name"
	desc = "doomsday.31.desc"
	picture = GFX_news_event_chinese_soldiers_march
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = doomsday.31.a
	}

}

news_event = {
	id = doomsday.32
	title = "doomsday.32.name"
	desc = "doomsday.32.desc"
	picture = GFX_news_event_eng_churchill_sign_treaty
	is_triggered_only = yes
	
	option = {
		name = doomsday.32.a
	}

}
news_event = {
	id = doomsday.33
	title = "doomsday.33.name"
	desc = "doomsday.33.desc"
	picture = GFX_news_event_eng_churchill_sign_treaty
	is_triggered_only = yes
	
	option = {
		name = doomsday.33.a
	}

}

news_event = {
	id = doomsday.34
	title = "doomsday.34.name"
	desc = "doomsday.34.desc"
	picture = GFX_event_zombie_landing
	trigger = {
		ZCO = { exists = no }
		any_country ={
			has_idea = doomsdayheadquarters
		}
		any_country ={
			has_idea = doomsdaymember
		}
	}
	
	option = {
		name = doomsday.34.a
	}

}